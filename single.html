<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./styles/main.css">
    <title>Document</title>
</head>

<body>
   
    <header>
        <div class="container">
         <div class="main-header">
           <p class="main-header__btn"> <a href="/index.html" style="text-decoration: none; color: black;">Home</a> </p>
    </div>
    </div>
    </header>
    <div class="loader" style="display: none;"></div>
    
    <section class="main-section">
    <div class="single">
        <div class="single-page">
            <!-- `<article class="single-news">
                <h3 class="single-news_title">${res.yoast_head_json.title}</h3>
                <img src="${res.yoast_head_json.og_image[0].url}" alt="" class="single-news_img" />
                <div class="single-news_info">    
                <p class="single-news_date">${res.date.slice(0,10)}</p>
                    <div class="single-news_content">${res.content.rendered}</div>             
                </div>
                </article>` -->
    </div>
</section>


    <script>
        const singleNewsContainer = document.querySelector('.single-page');
        const urlParams = new URLSearchParams(window.location.search);
        const postId = urlParams.get('post_id');
        const loader=document.querySelector('.loader');
      
        const fetchSingleNews = async function(post_id){
            try{
                loader.style.display='block';
         const res = await fetch(`https://balkaninsight.com/wp-json/wp/v2/posts/${post_id}?_embed=1`);
         const data= await res.json();
         renderSingleNews(data);
         loader.style.display='none';
            console.log(data);
            }catch(err){
                console.log(err);

            }
        };
        const renderSingleNews = function(res){
        const html = `<article class="single-news">
        <h3 class="single-news__title">${res.yoast_head_json.title}</h3>
        <img src="${res.yoast_head_json.og_image[0].url}" alt="" class="single-news__img" />
        <div class="single-news__info">    
        <p class="single-news__date">${res.date.slice(0,10)}</p>
            <div class="single-news__content">${res.content.rendered}</div>             
        </div>
        </article>`
        singleNewsContainer.insertAdjacentHTML('beforeend',html);
        };

        fetchSingleNews(postId);



    </script>
</body>
</html>